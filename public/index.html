<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <form action="/recipes">
    <select name="recipes" id="">
      <option value="">--</option>
      <option value="name">Name</option>
      <option value="ingredients">Ingredients</option>
      <option value="directions">Directions</option>
      <option value="*">All</option>
    </select>
  </form>
  <h1>Name</h1>
  <h2>Ingredients</h2>
  <h3>Directions</h3>
  <div>
    <form action="/addrecipe" method="post">
      <input type="text" name="recName" placeholder="Name">
      <!-- <br>
      <input type="text" name="" id="" placeholder="Ingredients">
      <br>
      <input type="text" name="" id="" placeholder="Directions"> -->
      <input type="submit">
      <!-- <button>Create New Recipe</button> -->
    </form>
  </div>
  <br>

  <span>
    <a href="/recipes">Link</a>
  </span>
  <br>

  <script>
    var recipeName = document.querySelector('h1');
    var ingredients = document.querySelector('h2');
    var directions = document.querySelector('h3');
    var selector = document.querySelector('select');
    var button = document.querySelector('button');
    function get() {
      let value = selector.value;
      console.log(value);
      let recipeNames = fetch(`/recipes?recipes=${value}`)
        .then(function (response) { return response.json() })
        .then(function (response) {
          console.log(response[0]);
          recipeName.textContent = response[0].name;
          ingredients.textContent = response[0].ingredients;
          directions.textContent = response[0].directions;
        })
        .catch(error => console.error(error))
    }

    selector.addEventListener('input', get);

  </script>
</body>

</html>